{% extends 'base.html' %}
{% block sub_page %} Služba {{data['name']}} {% endblock %}

{% block content %}
<div class="row">
    <div class="col-md">
        <p>{{data['description']}}</p>
    </div>

    {% if 'is_online' in data %}
    <div class="col-md-auto">
        {% if data['is_online'] %}
        <p class="text-success">Služba {{data['name']}} je aktivní.</p>
        {% else %}
        <p class="text-danger">Služba {{data['name']}} je neaktivní.</p>
        {% endif %}
    </div>
    {% endif %}
</div>

{% if 'swagger_url' in data %}
<p>Swagger dokumentace je dostupná <a href="{{data['swagger_url']}}">zde</a>.</p>
{% endif %}

{% if not data['is_public'] %}
<b>Nejedná se o službu, kterou lze volat z internetu.</b>
{% endif %}

{% if 'database' in data %}
{% for db in data['database'] %}
<div>
    <h3>{{db}}</h3>
    <img src="{{data['database'][db]}}" alt="{{db}}" class="diagram">
</div>
{% endfor%}
{% endif %}

{% if 'dependencies' in data %}
<div>
    <h3>Závislosti</h3>

    <ul id="service_dependencies">
        {% for dep in data['dependencies'] %}
        <li>
            <a href="{{dep['url']}}">{{dep['name']}} ({{dep['version']}})</a>
        </li>
        {% endfor %}
    </ul>
</div>
{% endif %}

{% endblock %}

{% extends 'base.html' %}
{% block sub_page %} Služby {% endblock %}

{% block content %}

<p>
    GrillBot se nově rozděluje na více menších služeb (microservices) komunikujících primárně pomocí REST API. Níže je popis jednotlivých
    služeb, které GrillBot používá.
</p>

<h2 class="fw-normal">Interní služby</h2>
<h4 class="fw-normal">GrillBot - Graphics</h4>
<p>GrillBot graphics je služba pro generování grafů a různých obrázků.</p>

<h5>Rozhraní API</h5>
<table class="table">
    <thead>
        <tr>
            <th>URI</th>
            <th>Návratové kódy</th>
            <th>Typ obsahu</th>
            <th>Popis</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>POST /chart</td>
            <td>
                200 OK<br>
                400 Bad request - Selhala validace vstupních dat<br>
                500 Internal server error - Došlo k neočekávané chybě na serveru.
            </td>
            <td>
                image/png<br>
                application/json
            </td>
            <td>Vygenerování grafu.</td>
        </tr>
        <tr>
            <td>POST /image/without-accident</td>
            <td>
                200 OK<br>
                400 Bad request - Selhala validace vstupních dat<br>
                500 Internal server error - Došlo k neočekávané chybě na serveru.
            </td>
            <td>
                image/png<br>
                application/json
            </td>
            <td>Vykreslení obrázku ze znělky seriálu<br>The Simpsons s počtem dní od posledního incidentu.</td>
        </tr>
        <tr>
            <td>POST /image/points</td>
            <td>
                200 OK<br>
                400 Bad request - Selhala validace vstupních dat<br>
                500 Internal server error - Došlo k neočekávané chybě na serveru.
            </td>
            <td>
                image/png<br>
                application/json
            </td>
            <td>Vykreslení obrázku s aktuálním stavem bodů uživatele.</td>
        </tr>
        <tr>
            <td>POST /image/peepo/angry</td>
            <td>
                200 OK<br>
                400 Bad request - Selhala validace vstupních dat<br>
                500 Internal server error - Došlo k neočekávané chybě na serveru.
            </td>
            <td>
                application/json
            </td>
            <td>Vykreslení obrázku naštvaně zírajícího peepo.</td>
        </tr>
        <tr>
            <td>POST /image/peepo/love</td>
            <td>
                200 OK<br>
                400 Bad request - Selhala validace vstupních dat<br>
                500 Internal server error - Došlo k neočekávané chybě na serveru.
            </td>
            <td>
                application/json
            </td>
            <td>Vykreslení obrázku peepo držícího uživatele.</td>
        </tr>
        <tr>
            <td>GET /health</td>
            <td>200 OK</td>
            <td>application/json</td>
            <td>Kontrola životnosti služby</td>
        </tr>
        <tr>
            <td>GET /info</td>
            <td>200 OK</td>
            <td>application/json</td>
            <td>Informace o běžící službě</td>
        </tr>
        <tr>
            <td>GET /metrics</td>
            <td>200 OK</td>
            <td>application/json</td>
            <td>Stav procesu služby</td>
        </tr>
        <tr>
            <td>GET /stats</td>
            <td>200 OK</td>
            <td>application/json</td>
            <td>Statistiky služby (počty požadavků, ...)</td>
        </tr>
    </tbody>
</table>

<h4 class="fw-normal">GrillBot - RubbergodService</h4>
<p>Služba pro zajištění integrace s botem Rubbergod. <b>Nejedná se o službu volatenou z veřejného internetu.</b></p>

<h4 class="fw-normal">GrillBot - FileService</h4>
<p>Služba integrující datová úložiště pro soubory. Aktuálně jediné podporované úložiště je Azure Storage Blobs. <b>Nejedná se o službu
        volatelnou z veřejného internetu.</b></p>

<h2 class="fw-normal">Služby třetích stran</h2>
<ul>
    <li><a href="https://www.su.fit.vutbr.cz/kachna/" target="_blank">KachnaOnline</a> - Pro příkaz <code>/kachna (/duck)</code>.</li>
    <li><a href="https://api.mathjs.org/" target="_blank">Math.JS</a> - Matematické výpočty</li>
    <li><a href="https://github.com/Toaster192/rubbergod">Rubbergod</a> - Komunikace s botem běžícím také na serveru VUT FIT. Komunikují
        primárně pomocí RubbergodService.</li>
</ul>

{% endblock %}

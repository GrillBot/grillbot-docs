digraph GrillBotInfrastructure {
    rankdir=LR
    
    subgraph cluster_0 {
        color=Darkgreen
        
        Bot
        Graphics
        Docs
        RubbergodService
        
        label = "Internal GrillBot infrastructure";
    }

    subgraph cluster_1 {
        color=blue
        
        KachnaOnline
        MathJs[label="Math.JS"]
        Rubbergod
        
        label = "Third party services";
    }
  
    Docs -> Bot [label="GET /health"]
    Bot -> MathJs [label="POST /"]
    Bot -> KachnaOnline [label="GET /api/states/current"]
    Bot -> Graphics [label="HEAD /health\nPOST /chart\nGET /metrics\nGET /info\nPOST /image/without-accident\nPOST /image/points\nPOST /image/peepo/angry\nPOST /image/peepo/love"]
    Bot -> RubbergodService[label="HEAD /health\nGET /api/diag\nPATCH /api/user/{memberId}\nGET /api/karma\nPOST /api/karma"]
    Rubbergod -> Bot [label="GET /api/user/birthday/today\nPOST /api/user/karma/store"]
}
